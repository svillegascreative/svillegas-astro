---
/* Displays a bunch of tech logos in a fun way! */

import techSkills from "../data/tech-skills.json";
import { shuffle } from "../utils/shuffle";

const skills = shuffle(techSkills);
---

<style>
  ul {
    --grid-box-size: var(--s-2);
    list-style-type: ""; /* removes markers */
    padding: 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(var(--grid-box-size), 1fr));
    grid-template-rows: repeat(auto-fit, var(--grid-box-size));
    grid-gap: var(--s-2);
    grid-auto-flow: row-reverse dense;
    align-items: center;
    aspect-ratio: 1/1;
  }

  li {
    position: relative;
    grid-row: span var(--grid-span);
    grid-column: span var(--grid-span);

    &:hover {
      z-index: 2;
    }
  }

  svg {
    display: block;
    fill: lightgrey;
    transition: all 0.3s ease;

    &:hover {
      fill: var(--fill);
      transform: scale(1.1);
      transition: all 0.3s ease;
      filter: drop-shadow(0 0 20px #fff) drop-shadow(0 0 20px #fff)
        drop-shadow(0 0 20px #fff);
    }
  }
</style>

<ul class="logo-soup" aria-label="tech tools">
  {
    skills.map((skill) => (
      <li style={`--grid-span: ${+skill.weight + 3}`}>
        <svg
          role="img"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
          style={`--fill: ${skill.color}`}
        >
          <title>{skill.name}</title>
          <Fragment set:html={skill.svgPath} />
        </svg>
      </li>
    ))
  }

  <!-- These are placed in the top row pseudo-randomly to create an uneven edge -->
  <li aria-hidden style="grid-row: 1 / span 3; grid-column: 1 / span 5"></li>
  <li aria-hidden style="grid-row: 1 / span 2; grid-column: 19 / span 12"></li>
  <li aria-hidden style="grid-row: 1 / span 4; grid-column: -8 / span 4"></li>
</ul>
